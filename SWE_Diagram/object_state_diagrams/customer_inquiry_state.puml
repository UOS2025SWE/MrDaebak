@startuml
title "Customer Inquiry State Diagram (customer_inquiries.status)"

skinparam shadowing false
skinparam state {
  BackgroundColor #FDF6E3
  BorderColor #555
  RoundCorner 10
}

' --- States ---
state "New Inquiry\n(NEW)" as New
state "In Progress\n(IN_PROGRESS)" as InProgress
state "Resolved\n(RESOLVED)" as Resolved
state "Archived\n(ARCHIVED)" as Archived

' --- Transitions ---

' Entry Point
[*] --> New : InquiryService.create_inquiry()\n(inquiry_service.py:64)\nstatus='NEW'

' From NEW state
New --> InProgress : InquiryService.update_inquiry()\n(inquiry_service.py:147)\nstatus='IN_PROGRESS'
New --> Archived : InquiryService.update_inquiry()\n(inquiry_service.py:147)\nstatus='ARCHIVED'\n(spam/duplicate)

' From IN_PROGRESS state
InProgress --> Resolved : InquiryService.update_inquiry()\n(inquiry_service.py:147)\nstatus='RESOLVED'\n(response completed)
InProgress --> Archived : InquiryService.update_inquiry()\n(inquiry_service.py:147)\nstatus='ARCHIVED'\n(no action needed)

' From RESOLVED state
Resolved --> Archived : InquiryService.update_inquiry()\n(inquiry_service.py:147)\nstatus='ARCHIVED'\n(archive after period\nor manual archive)

' End State
Archived --> [*]

@enduml


