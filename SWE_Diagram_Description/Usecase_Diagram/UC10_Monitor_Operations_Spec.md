# UC10: Monitor Operations & Handle Inquiries

## 유즈케이스 ID
**MRD-CUS-UC10**

## 액터
- **주 액터**: Manager
- **부 액터**: 없음

## 요약
관리자가 운영 대시보드를 통해 실시간으로 주문 생성 및 상태 변경을 모니터링하고, 고객 문의를 검토 및 처리한다.

## 유형
**Primary**

## 참고 유즈케이스
- **Include**: 없음
- **Extend**: 없음

## 사전 조건
관리자가 로그인되어 있으며 관리자 권한을 가지고 있다

## 사후 조건
(성공 시) 실시간 알림을 수신하고 문의 상태가 업데이트된다, (실패 시) 오류 메시지가 표시된다

## 주흐름

1. 관리자가 운영 대시보드 WebSocket 연결을 시스템에 요청한다
2. 시스템이 WebSocket 연결 완료를 확인한다
3. 시스템이 주문 생성/상태 변경 시 실시간 알림을 관리자에게 전송한다
4. 관리자가 문의 목록 조회(상태: NEW 필터)를 시스템에 요청한다
5. 시스템이 새로운 문의 목록을 반환한다
6. 관리자가 문의 ID, 상태, 관리자 메모를 시스템에 제출한다
7. 시스템이 문의 정보를 업데이트하고 성공 메시지를 반환한다

## 부흐름

### 2a. WebSocket 연결 실패
(3) WebSocket 연결이 실패한다.
(4) 시스템이 "실시간 모니터링 연결에 실패했습니다." 메시지를 표시한다.
관리자가 재연결을 시도하거나 수동 새로고침으로 전환한다.

### WebSocket 연결 끊김
(n) WebSocket 연결이 끊어진다.
(n+1) 시스템이 자동으로 재연결을 시도한다.
재연결 성공 시 흐름 (3)으로 복귀한다.

### 5a. 새로운 문의 없음
(6) 시스템이 새로운 문의가 없음을 감지한다.
(7) 시스템이 "처리할 새로운 문의가 없습니다." 메시지를 표시한다.
흐름 (1)로 복귀한다 (모니터링 계속).

### 7a. 문의 업데이트 실패
(8) 시스템이 문의 정보를 업데이트할 수 없음을 감지한다.
(9) 시스템이 "문의 업데이트에 실패했습니다." 오류 메시지를 표시한다.
흐름 (6)으로 복귀한다.

### 7b. 동시 업데이트 충돌
(8) 다른 관리자가 이미 문의를 업데이트했음을 감지한다.
(9) 시스템이 "다른 관리자가 이미 이 문의를 처리했습니다." 메시지를 표시한다.
흐름 (4)로 복귀한다.

## 제약사항
- WebSocket 연결은 관리자 권한으로만 가능하며, 네트워크 상태에 따라 자동 재연결된다.
- 문의 상태는 NEW → IN_PROGRESS → RESOLVED 또는 CLOSED 순서로 변경되며, 각 변경 시 타임스탬프와 담당 관리자 정보가 기록된다.
