# UC07: Prepare Orders Kitchen

## 유즈케이스 ID
**MRD-CUS-UC07**

## 액터
- **주 액터**: Cook
- **부 액터**: 없음

## 요약
주방 조리사가 접수된 주문을 조리하고 상태를 업데이트하여 배달 준비 상태로 전환한다.

## 유형
**Primary**

## 참고 유즈케이스
- **Include**: 없음
- **Extend**: 없음

## 사전 조건
조리사가 로그인되어 있으며 조리 가능한 주문(RECEIVED 또는 PREPARING 상태)이 존재한다

## 사후 조건
(성공 시) 주문 상태가 PREPARING 또는 DELIVERING으로 업데이트되고 실시간 알림이 전송된다, (실패 시) 오류 메시지가 표시되고 상태가 유지된다

## 주흐름

1. 조리사가 할당된 주문 목록 조회를 시스템에 요청한다
2. 시스템이 RECEIVED/PREPARING 상태의 주문 목록을 반환한다
3. 조리사가 주문 ID와 함께 상태를 PREPARING으로 업데이트 요청을 시스템에 제출한다
4. 시스템이 주문 상태를 업데이트하고 성공 메시지를 반환한다
5. 조리사가 주문 ID와 함께 상태를 DELIVERING으로 업데이트 요청을 시스템에 제출한다
6. 시스템이 주문 상태를 업데이트하고 성공 메시지를 반환한다

## 부흐름

### 2a. 할당된 주문 없음
(3) 시스템이 조리사에게 할당된 주문이 없음을 감지한다.
(4) 시스템이 "현재 조리할 주문이 없습니다." 메시지를 표시한다.
유즈케이스 종료한다.

### 4a. 주문 상태 업데이트 실패 (PREPARING)
(5) 시스템이 주문 상태를 업데이트할 수 없음을 감지한다 (예: 주문이 이미 취소됨).
(6) 시스템이 "주문 상태를 업데이트할 수 없습니다. 주문 정보를 확인해 주세요." 오류 메시지를 표시한다.
흐름 (1)로 복귀한다.

### 6a. 주문 상태 업데이트 실패 (DELIVERING)
(7) 시스템이 주문 상태를 업데이트할 수 없음을 감지한다.
(8) 시스템이 "주문 상태를 업데이트할 수 없습니다." 오류 메시지를 표시한다.
흐름 (3)으로 복귀한다.

### 권한 오류
(n) 시스템이 조리사의 권한이 유효하지 않음을 감지한다.
(n+1) 시스템이 "접근 권한이 없습니다. 다시 로그인해 주세요." 메시지를 표시한다.
유즈케이스 종료한다.

## 제약사항
- 주문 상태는 RECEIVED → PREPARING → DELIVERING 순서로만 변경 가능하다.
- 조리 완료 시 WebSocket을 통해 배달 담당자와 고객에게 실시간 알림이 전송된다.
