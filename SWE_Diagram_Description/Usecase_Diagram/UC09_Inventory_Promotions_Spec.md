# UC09: Manage Inventory & Promotions

## 유즈케이스 ID
**MRD-CUS-UC09**

## 액터
- **주 액터**: Manager
- **부 액터**: 없음

## 요약
관리자가 재고 상태를 조회 및 조정하고, 프로모션/이벤트를 생성 및 관리한다.

## 유형
**Primary**

## 참고 유즈케이스
- **Include**: 없음
- **Extend**: 없음

## 사전 조건
관리자가 로그인되어 있으며 관리자 권한을 가지고 있다

## 사후 조건
(성공 시) 재고가 업데이트되거나 프로모션이 저장된다, (실패 시) 오류 메시지가 표시되고 변경사항이 저장되지 않는다

## 주흐름

1. 관리자가 재고 상태 조회를 시스템에 요청한다
2. 시스템이 재료 목록, 수량, 재고 부족 알림을 반환한다
3. 관리자가 재료 ID와 수량 변경값을 시스템에 제출한다
4. 시스템이 재고를 업데이트하고 성공 메시지를 반환한다
5. 관리자가 프로모션 목록 조회를 시스템에 요청한다
6. 시스템이 이벤트/프로모션 목록을 반환한다
7. 관리자가 프로모션 정보(제목, 기간, 할인 상세)를 시스템에 제출한다
8. 시스템이 프로모션을 저장하고 성공 메시지를 반환한다

## 부흐름

### 2a. 재고 부족 알림
(3) 시스템이 재고가 최소 수량 이하인 재료를 감지한다.
(4) 시스템이 재고 목록과 함께 "일부 재료의 재고가 부족합니다." 경고 메시지를 표시한다.
흐름 (3)으로 계속 진행한다.

### 4a. 재고 업데이트 실패
(5) 시스템이 재고를 업데이트할 수 없음을 감지한다.
(6) 시스템이 "재고 업데이트에 실패했습니다." 오류 메시지를 표시한다.
흐름 (3)으로 복귀한다.

### 4b. 음수 재고
(5) 시스템이 업데이트 후 재고가 음수가 됨을 감지한다.
(6) 시스템이 "재고는 음수가 될 수 없습니다." 오류 메시지를 표시한다.
흐름 (3)으로 복귀한다.

### 8a. 프로모션 기간 중복
(9) 시스템이 동일한 메뉴에 대해 기간이 중복되는 프로모션이 있음을 감지한다.
(10) 시스템이 "해당 기간에 이미 활성화된 프로모션이 있습니다." 경고 메시지를 표시한다.
관리자가 기간을 수정하거나 강제 저장을 선택한다.

### 8b. 프로모션 저장 실패
(9) 시스템이 프로모션을 저장할 수 없음을 감지한다.
(10) 시스템이 "프로모션 저장에 실패했습니다." 오류 메시지를 표시한다.
흐름 (7)로 복귀한다.

## 제약사항
- 재고 수량은 0 이상이어야 하며, 재고 부족 임계값은 각 재료별로 설정 가능하다.
- 프로모션 기간은 시작일이 종료일보다 이전이어야 하며, 동일 메뉴에 대한 프로모션 기간이 중복될 경우 경고가 표시된다.
