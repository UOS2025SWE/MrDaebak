# UC03: Track Order Status

## 유즈케이스 ID
**MRD-CUS-UC03**

## 액터
- **주 액터**: Customer
- **부 액터**: 없음

## 요약
고객이 자신의 주문 목록을 조회하고 WebSocket을 통해 실시간으로 주문 상태 변경 알림을 수신한다.

## 유형
**Primary**

## 참고 유즈케이스
- **Include**: 없음
- **Extend**: 없음

## 사전 조건
고객이 로그인되어 있으며 하나 이상의 주문을 가지고 있다

## 사후 조건
(성공 시) 주문 목록이 표시되고 실시간 상태 업데이트가 활성화된다, (실패 시) 오류 메시지가 표시된다

## 주흐름

1. 고객이 주문 목록 조회를 시스템에 요청한다
2. 시스템이 현재 상태가 포함된 주문 목록을 반환한다
3. 고객이 실시간 업데이트 수신을 위한 WebSocket 연결을 시스템에 요청한다
4. 시스템이 WebSocket 연결 완료를 확인한다
5. 시스템이 주문 상태 변경 시 실시간 알림(주문 ID, 이전 상태, 새 상태)을 고객에게 전송한다

## 부흐름

### 2a. 주문 내역 없음
(3) 시스템이 고객의 주문 내역이 없음을 감지한다.
(4) 시스템이 "아직 주문 내역이 없습니다." 메시지를 표시한다.
유즈케이스 종료한다.

### 3a. WebSocket 연결 실패
(5) WebSocket 연결이 실패한다.
(6) 시스템이 "실시간 업데이트를 활성화할 수 없습니다." 메시지를 표시하고 수동 새로고침 옵션을 제공한다.
흐름 (1)로 복귀 가능하다 (수동 조회).

### WebSocket 연결 끊김
(n) WebSocket 연결이 끊어진다.
(n+1) 시스템이 자동으로 재연결을 시도한다.
재연결 성공 시 흐름 (5)로 복귀한다.

## 제약사항
- 주문 목록은 인증된 고객 본인의 주문만 조회 가능하다.
- WebSocket 연결은 네트워크 상태에 따라 불안정할 수 있으며, 자동 재연결 메커니즘이 제공된다.
