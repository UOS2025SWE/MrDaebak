# UC01: Register & Log In

## 유즈케이스 ID
**MRD-CUS-UC01**

## 액터
- **주 액터**: Customer, Cook, Delivery Staff, Manager
- **부 액터**: 없음

## 요약
사용자가 시스템에 신규 계정을 등록하거나 기존 계정으로 로그인하여 JWT 기반 인증 세션을 시작한다.

## 유형
**Primary**

## 참고 유즈케이스
- **Include**: 없음
- **Extend**: 없음

## 사전 조건
인터넷 연결 가능 및 시스템 접근 가능한 상태

## 사후 조건
(성공 시) JWT 토큰 발급 및 사용자 인증 상태 활성화, (실패 시) 오류 메시지 표시 및 비인증 상태 유지

## 주흐름

1. 사용자가 회원가입 정보(이메일, 비밀번호, 이름, 전화번호)를 시스템에 제출한다
2. 시스템이 데이터를 검증 및 저장하고 회원가입 성공 메시지를 반환한다
3. 사용자가 로그인 자격 증명(이메일, 비밀번호)을 시스템에 제출한다
4. 시스템이 인증 후 JWT 토큰과 사용자 프로필을 반환하고 역할별 대시보드로 리디렉션한다

## 부흐름

### 2a. 이메일 중복
(3) 시스템이 입력된 이메일이 이미 등록되어 있음을 감지한다.
(4) 시스템이 "이메일이 이미 사용 중입니다." 오류 메시지를 표시한다.
흐름 (1)로 복귀한다.

### 2b. 비밀번호 요구사항 미충족
(3) 시스템이 비밀번호가 요구사항을 충족하지 않음을 감지한다.
(4) 시스템이 "비밀번호는 최소 8자 이상이어야 하며, 대문자/소문자/숫자/특수문자를 포함해야 합니다." 오류 메시지를 표시한다.
흐름 (1)로 복귀한다.

### 4a. 잘못된 자격 증명
(5) 시스템이 이메일이 존재하지 않거나 비밀번호가 일치하지 않음을 감지한다.
(6) 시스템이 "이메일 또는 비밀번호가 올바르지 않습니다." 오류 메시지를 표시한다.
흐름 (3)으로 복귀한다.

### 네트워크/서버 오류
(n) 통신 실패 또는 서버 내부 오류가 발생한다.
(n+1) 시스템이 "네트워크 오류가 발생했습니다. 다시 시도해 주세요." 또는 "일시적인 문제가 발생했습니다. 잠시 후 다시 시도해 주세요." 메시지를 표시한다.
사용자가 재시도할 수 있다.

## 제약사항
- 이메일은 고유해야 하며, 비밀번호는 최소 8자 이상(대문자/소문자/숫자/특수문자 각 1개 이상 포함)이어야 한다.
- JWT 토큰 유효기간은 24시간이며, 비밀번호는 bcrypt로 해시 처리되고, 모든 통신은 HTTPS로만 이루어진다.
