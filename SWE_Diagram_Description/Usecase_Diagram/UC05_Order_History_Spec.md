# UC05: View Order History & Reorder

## 유즈케이스 ID
**MRD-CUS-UC05**

## 액터
- **주 액터**: Customer
- **부 액터**: 없음

## 요약
고객이 과거 주문 내역을 조회하고 원하는 주문을 다시 주문(Reorder)하여 동일한 메뉴를 빠르게 재주문한다.

## 유형
**Primary**

## 참고 유즈케이스
- **Include**: 없음
- **Extend**: 없음

## 사전 조건
고객이 로그인되어 있으며 과거 주문 내역이 존재한다

## 사후 조건
(성공 시) 주문 내역이 표시되거나 새로운 주문이 생성된다, (실패 시) 오류 메시지가 표시된다

## 주흐름

1. 고객이 주문 내역 조회를 시스템에 요청한다
2. 시스템이 과거 주문 목록과 상세 정보를 반환한다
3. 고객이 재주문할 주문 ID를 선택하여 시스템에 제출한다
4. 시스템이 동일한 내용으로 새 주문을 생성하고 주문 확인 정보(새 주문 ID, 주문 번호)를 반환한다

## 부흐름

### 2a. 주문 내역 없음
(3) 시스템이 고객의 주문 내역이 없음을 감지한다.
(4) 시스템이 "주문 내역이 없습니다." 메시지를 표시한다.
유즈케이스 종료한다.

### 4a. 메뉴 단종
(5) 시스템이 선택한 주문의 메뉴가 더 이상 제공되지 않음을 감지한다.
(6) 시스템이 "해당 메뉴는 더 이상 제공되지 않습니다." 메시지를 표시한다.
흐름 (3)으로 복귀한다.

### 4b. 재고 부족
(5) 시스템이 선택한 주문의 메뉴 재고가 부족함을 감지한다.
(6) 시스템이 "선택하신 메뉴의 재료가 부족합니다. 다른 메뉴를 선택해 주세요." 메시지를 표시한다.
흐름 (1)로 복귀한다.

### 4c. 가격 변경
(5) 시스템이 원래 주문 대비 가격이 변경되었음을 감지한다.
(6) 시스템이 "가격이 변경되었습니다. 현재 가격: [새 가격]" 메시지를 표시하고 확인을 요청한다.
고객이 확인하면 흐름 (4)로 계속 진행, 취소하면 흐름 (1)로 복귀한다.

## 제약사항
- 재주문은 원래 주문과 동일한 메뉴, 수량, 커스터마이징으로 생성되지만 배달 정보와 결제는 다시 입력해야 한다.
- 재주문된 주문은 새로운 주문 번호와 ID를 받으며, 현재 가격이 적용된다.
